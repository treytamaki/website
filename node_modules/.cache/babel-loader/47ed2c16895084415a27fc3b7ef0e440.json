{"ast":null,"code":"import _assertThisInitialized from \"/Users/treytamaki/Desktop/sandbox/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/Users/treytamaki/Desktop/sandbox/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/treytamaki/Desktop/sandbox/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/treytamaki/Desktop/sandbox/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/treytamaki/Desktop/sandbox/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/treytamaki/Desktop/sandbox/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/treytamaki/Desktop/sandbox/src/Launchpad.js\";\nimport React, { Component } from 'react';\nimport './css-files/launchpad.css';\nimport Header from './Header';\nimport Footer from './Footer';\nimport soundIcon from './icons/sound-icon.png';\nvar INITIAL_VERSE_TIME = 4000;\n\nvar Launchpad =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Launchpad, _Component);\n\n  function Launchpad(props) {\n    var _this;\n\n    _classCallCheck(this, Launchpad);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Launchpad).call(this, props));\n    _this.state = {\n      initialTime: performance.now(),\n      currentTime: 0\n    };\n    return _this;\n  }\n\n  _createClass(Launchpad, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        initialTime: performance.now()\n      });\n      setInterval(function () {\n        return _this2.trackTime();\n      }, 1000);\n    }\n  }, {\n    key: \"trackTime\",\n    value: function trackTime() {\n      this.setState({\n        currentTime: Math.floor((performance.now() - this.state.initialTime) / 1000)\n      });\n      console.log(this.state.currentTime);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var buttons = [];\n\n      for (var i = 0; i < 25; i++) {\n        buttons.push(React.createElement(LaunchpadButton, {\n          id: \"button\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }));\n      }\n\n      var samples = [];\n      var sampleData = [\"cymbal.mp3\", \"gamelan-drum.mp3\", \"glitch.mp3\", \"no-tears.mp3\"];\n      var sampleDataName = [\"Cymbal\", \"Gamelan Drum\", \"Glitch\", \"No Tears\"];\n\n      for (var _i = 0; _i < sampleData.length; _i++) {\n        samples.push(React.createElement(SoundClip, {\n          src: \"./sound-files/\" + sampleData[_i],\n          name: sampleDataName[_i],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cover-image-box\",\n        style: {\n          height: \"131.32px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"body\",\n        style: {\n          display: \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"samples\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, samples), React.createElement(\"div\", {\n        id: \"grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, buttons)), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Launchpad;\n}(Component); // /music/glitch.mp3\n\n\nvar LaunchpadButton =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(LaunchpadButton, _Component2);\n\n  function LaunchpadButton(props) {\n    var _this3;\n\n    _classCallCheck(this, LaunchpadButton);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(LaunchpadButton).call(this, props));\n    _this3.state = {\n      playing: false,\n      interval: null,\n      src: \"\",\n      time: INITIAL_VERSE_TIME\n    };\n    _this3.changeColor = _this3.changeColor.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.handleAudio = _this3.handleAudio.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.playAudio = _this3.playAudio.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.stopAudio = _this3.stopAudio.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    return _this3;\n  }\n\n  _createClass(LaunchpadButton, [{\n    key: \"changeColor\",\n    value: function changeColor(box, audio) {\n      var duration = audio.duration * 1000;\n      box.setAttribute(\"style\", \"background-color: red;\");\n      setTimeout(function () {\n        box.setAttribute(\"style\", \"background-color: white;\");\n      }, duration);\n    }\n  }, {\n    key: \"handleAudio\",\n    value: function handleAudio(audio, box) {\n      this.changeColor(box, audio);\n      audio.pause();\n      audio.currentTime = 0;\n      audio.play();\n    }\n  }, {\n    key: \"playAudio\",\n    value: function playAudio() {\n      var _this4 = this;\n\n      if (this.state.src) {\n        var audio = document.getElementById(this.props.id + \"audio\");\n        var box = document.getElementById(this.props.id);\n\n        if (!this.state.playing) {\n          this.setState({\n            playing: true\n          });\n          audio.play(); // FENCEPOST\n\n          this.changeColor(box, audio); // FENCEPOST\n\n          this.setState({\n            interval: setInterval(function () {\n              return _this4.handleAudio(audio, box);\n            }, INITIAL_VERSE_TIME)\n          });\n        } else {\n          var halftime = this.state.time / 2;\n          this.setState({\n            time: halftime\n          });\n          clearInterval(this.state.interval);\n          this.setState({\n            interval: setInterval(function () {\n              return _this4.handleAudio(audio, box);\n            }, halftime)\n          });\n        }\n      }\n    }\n  }, {\n    key: \"stopAudio\",\n    value: function stopAudio() {\n      document.getElementById(this.props.id + \"audio\").pause();\n      document.getElementById(this.props.id + \"audio\").currentTime = 0;\n      document.getElementById(this.props.id).setAttribute(\"style\", \"background-color: white;\");\n      this.setState({\n        playing: false\n      });\n    }\n  }, {\n    key: \"allowDrop\",\n    value: function allowDrop(ev) {\n      ev.preventDefault();\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(ev) {\n      ev.preventDefault();\n      var data = ev.dataTransfer.getData(\"text\");\n      this.setState({\n        src: data\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var audio = this.state.src;\n      return React.createElement(\"div\", {\n        className: \"box\",\n        id: this.props.id,\n        onClick: function onClick() {\n          return _this5.playAudio();\n        },\n        onDoubleClick: function onDoubleClick() {\n          return _this5.stopAudio();\n        },\n        onDragOver: function onDragOver(e) {\n          return _this5.allowDrop(e);\n        },\n        onDrop: function onDrop(e) {\n          return _this5.drop(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"audio\", {\n        id: this.props.id + \"audio\",\n        src: audio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LaunchpadButton;\n}(Component);\n\nvar SoundClip =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(SoundClip, _Component3);\n\n  function SoundClip(props) {\n    var _this6;\n\n    _classCallCheck(this, SoundClip);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(SoundClip).call(this, props));\n    _this6.drag = _this6.drag.bind(_assertThisInitialized(_assertThisInitialized(_this6)));\n    return _this6;\n  }\n\n  _createClass(SoundClip, [{\n    key: \"drag\",\n    value: function drag(ev) {\n      var src = this.props.src;\n      ev.dataTransfer.setData(\"text\", src);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return React.createElement(\"div\", {\n        onClick: function onClick() {\n          return console.log();\n        },\n        className: \"sound-clip\",\n        draggable: \"true\",\n        onDragStart: function onDragStart(event) {\n          return _this7.drag(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"\\xA0\\xA0\", React.createElement(\"img\", {\n        src: soundIcon,\n        className: \"sound-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        style: {\n          padding: \"1em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.props.name));\n    }\n  }]);\n\n  return SoundClip;\n}(Component);\n\nexport default Launchpad;","map":{"version":3,"sources":["/Users/treytamaki/Desktop/sandbox/src/Launchpad.js"],"names":["React","Component","Header","Footer","soundIcon","INITIAL_VERSE_TIME","Launchpad","props","state","initialTime","performance","now","currentTime","setState","setInterval","trackTime","Math","floor","console","log","buttons","i","push","samples","sampleData","sampleDataName","length","height","display","LaunchpadButton","playing","interval","src","time","changeColor","bind","handleAudio","playAudio","stopAudio","box","audio","duration","setAttribute","setTimeout","pause","play","document","getElementById","id","halftime","clearInterval","ev","preventDefault","data","dataTransfer","getData","e","allowDrop","drop","SoundClip","drag","setData","event","padding","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './css-files/launchpad.css';\n\n\nimport Header from './Header';\nimport Footer from './Footer';\n\nimport soundIcon from './icons/sound-icon.png';\n\nconst INITIAL_VERSE_TIME = 4000;\n\nclass Launchpad extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            initialTime: performance.now(),\n            currentTime: 0,\n        }\n    }\n\n    componentDidMount() {\n        this.setState({ initialTime: performance.now()});\n        setInterval(() => this.trackTime(), 1000);\n    }\n\n    trackTime() {\n        this.setState({ currentTime: Math.floor((performance.now() - this.state.initialTime) / 1000)});\n        console.log(this.state.currentTime)\n    }\n\n    render() {\n        let buttons = [];\n        for (let i = 0; i < 25; i++) {\n            buttons.push(<LaunchpadButton id={\"button\" + i}></LaunchpadButton>);\n        }\n\n        let samples = [];\n        let sampleData = [\"cymbal.mp3\", \"gamelan-drum.mp3\", \"glitch.mp3\", \"no-tears.mp3\"];\n        let sampleDataName = [\"Cymbal\", \"Gamelan Drum\", \"Glitch\", \"No Tears\"];\n        for (let i = 0; i < sampleData.length; i++) {\n            samples.push(<SoundClip src={\"./sound-files/\" + sampleData[i]} name={sampleDataName[i]}></SoundClip>);\n        }\n\n\n        return (\n            <div>\n                <Header></Header>\n                <div className=\"cover-image-box\" style={{ height: \"131.32px\" }}> </div>\n                <br></br>\n                <div className=\"body\" style={{ display:\"flex\"}}>\n                    <div id=\"samples\">\n                        {samples}\n                    </div>\n                    <div id=\"grid\">\n                        {buttons}\n                    </div>\n                </div>\n                <Footer></Footer>\n            </div>\n        );\n    }\n}\n// /music/glitch.mp3\nclass LaunchpadButton extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            playing: false,\n            interval: null,\n            src: \"\",\n            time: INITIAL_VERSE_TIME,\n        }\n\n        this.changeColor = this.changeColor.bind(this);\n        this.handleAudio = this.handleAudio.bind(this);\n        this.playAudio = this.playAudio.bind(this);\n        this.stopAudio = this.stopAudio.bind(this);\n    }\n\n    changeColor(box, audio) {\n        let duration = audio.duration * 1000;\n        box.setAttribute(\"style\", \"background-color: red;\")\n        setTimeout(function () {\n            box.setAttribute(\"style\", \"background-color: white;\");\n        }, duration);\n\n    }\n\n    handleAudio(audio, box) {\n        this.changeColor(box, audio);\n        audio.pause();\n        audio.currentTime = 0;\n        audio.play();\n    }\n\n    playAudio() {\n        if (this.state.src) {\n            let audio = document.getElementById(this.props.id + \"audio\");\n            let box = document.getElementById(this.props.id);\n\n            if (!this.state.playing) {\n                this.setState({ playing: true });            \n                audio.play();                       // FENCEPOST\n                this.changeColor(box, audio);       // FENCEPOST\n                this.setState({\n                    interval: setInterval(() => this.handleAudio(audio, box), INITIAL_VERSE_TIME)\n                });\n            } else {\n                let halftime = this.state.time / 2;\n                this.setState({ time: halftime })\n                clearInterval(this.state.interval);\n                this.setState({\n                    interval: setInterval(() => this.handleAudio(audio, box), halftime )\n                });\n            }\n        } \n    }\n\n    stopAudio() {\n        document.getElementById(this.props.id + \"audio\").pause();\n        document.getElementById(this.props.id + \"audio\").currentTime = 0;\n        document.getElementById(this.props.id).setAttribute(\"style\", \"background-color: white;\");\n        this.setState({ playing: false });\n    }\n\n    allowDrop(ev) {\n        ev.preventDefault();\n    }\n\n    drop(ev) {\n        ev.preventDefault();\n        var data = ev.dataTransfer.getData(\"text\");\n        this.setState({ src: data })\n    }\n\n    render() {\n        let audio = this.state.src;\n        return (\n            <div className=\"box\" id={this.props.id} onClick={() => this.playAudio()} onDoubleClick={() => this.stopAudio()}\n             onDragOver={(e) => this.allowDrop(e)} onDrop={(e) => this.drop(e)}>\n                <audio id={this.props.id + \"audio\"} src={audio}></audio>\n            </div>\n        );\n    }\n}\n\nclass SoundClip extends Component {\n    constructor(props) {\n        super(props);\n        this.drag = this.drag.bind(this);\n    }\n\n    drag(ev) {\n        let src = this.props.src;\n        ev.dataTransfer.setData(\"text\", src);\n    }\n\n    render() {\n        return(\n            <div onClick={() => console.log()} className=\"sound-clip\" draggable=\"true\" onDragStart={(event) => this.drag(event)}>\n                &nbsp;&nbsp;\n                <img src={soundIcon} className=\"sound-icon\"></img>\n                <h4 style={{ padding: \"1em\" }}>{this.props.name}</h4>\n            </div>\n        );\n    }\n}\n\nexport default Launchpad;\n"]},"metadata":{},"sourceType":"module"}